<!DOCTYPE html>
<html>
<head>
	<title>Hello, World! A-Frame VR World!</title>
</head>
	<script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
	<script src="https://rawgit.com/andreasplesch/aframe-meshline-component/master/dist/aframe-meshline-component.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">
		var socket = io();
			function test() {
				socket.emit('personalTest','this is a test')
			}

			function createBox() {
				socket.emit('newShape',{geometry: "primitive: sphere; radius: 1000;",
    	position:"-10000 1200 -3000",
    	material:"color:#ff0; metalness:0.0; roughness:1.0;",
    	message:"new Object"})
			}

			function goToAr2() {
				socket.emit("ar2", "This is ar2")
			}

			function propteryForLine(arr) {
				let results = 'lineWidth: 20; path: '  
			  arr.forEach(function(element){
			    results = results + element.x/100 +' ' + -element.y/100 + ' ' + '0, '
			  })
			  return results + '; color: #E20049'
			}

			socket.on('toVRDrawing', function(data){
				let entity = document.createElement('a-entity')
				let results = propteryForLine(data)
				console.log(results)
				entity.setAttribute("meshline", results)

				entity.setAttribute("dummy", 'hoyw')
				document.querySelector('a-scene').appendChild(entity)
			})

	</script>
	<style type="text/css">
		.aframebox {
			height: 500px;
			width: 500px;
			}
	</style>
<body>
	<a-scene class="aframebox" embedded>
		<a-box position="0 2 0" width="1" height="1" depth="1" color="blue"></a-box>
		<a-entity meshline="lineWidth: 20; path: -2 -1 0, 0 -2 0, 2 -1; color: #E20049"></a-entity>
		<a-entity meshline="lineWidth: 20; path: 1.66 -2.345 0, 1.66 -2.345 0, 1.665 -2.345 0, 1.665 -2.34 0, 1.665 -2.33 0, 1.665 -2.345 0, 1.665 -2.34 0, 1.67 -2.33 0, 1.67 -2.33 0, 1.67 -2.33 0, 1.665 -2.33 0, 1.665 -2.33 0, 1.665 -2.345 0, 1.665 -2.345 0, 1.665 -2.36 0, 1.67 -2.385 0, 1.665 -2.38 0, 1.665 -2.38 0, 1.665 -2.4 0, 1.665 -2.4 0, 1.665 -2.39 0, 1.67 -2.39 0, 1.665 -2.395 0, 1.665 -2.385 0, 1.66 -2.405 0, 1.66 -2.39 0, 1.665 -2.39 0, 1.665 -2.405 0, 1.67 -2.415 0, 1.675 -2.425 0, 1.695 -2.45 0, 1.71 -2.475 0, 1.715 -2.495 0, 1.73 -2.505 0, 1.745 -2.525 0, 1.76 -2.54 0, 1.765 -2.56 0, 1.77 -2.565 0, 1.78 -2.57 0, 1.8 -2.575 0, 1.84 -2.58 0, 1.845 -2.57 0, 1.86 -2.575 0, 1.87 -2.57 0, 1.89 -2.57 0, 1.91 -2.565 0, 1.93 -2.565 0, 1.95 -2.55 0, 1.97 -2.55 0, 2 -2.54 0, 2.01 -2.54 0, 2.025 -2.535 0, 2.05 -2.545 0, 2.05 -2.545 0, 2.06 -2.54 0, 2.07 -2.535 0, 2.07 -2.535 0, 2.085 -2.525 0, 2.09 -2.51 0, 2.09 -2.51 0, 2.1 -2.51 0, 2.11 -2.505 0, 2.115 -2.505 0, 2.12 -2.505 0, 2.13 -2.505 0, 2.13 -2.505 0, 2.135 -2.5 0, 2.135 -2.485 0, 2.145 -2.455 0, 2.145 -2.455 0, 2.145 -2.44 0, 2.135 -2.415 0, 2.135 -2.395 0, 2.13 -2.385 0, 2.125 -2.36 0, 2.125 -2.335 0, 2.13 -2.32 0, 2.125 -2.315 0, 2.13 -2.295 0, 2.13 -2.29 0, 2.13 -2.275 0, 2.125 -2.26 0, 2.125 -2.235 0, 2.12 -2.175 0, 2.11 -2.16 0, 2.105 -2.14 0, 2.095 -2.115 0, 2.08 -2.09 0, 2.065 -2.08 0, 2.055 -2.07 0, 2.015 -2.055 0, 2 -2.055 0, 1.965 -2.055 0, 1.945 -2.05 0, 1.925 -2.05 0, 1.895 -2.06 0, 1.87 -2.055 0, 1.85 -2.065 0, 1.825 -2.075 0, 1.81 -2.085 0, 1.795 -2.095 0, 1.795 -2.095 0, 1.775 -2.09 0, 1.755 -2.105 0, 1.755 -2.105 0, 1.73 -2.115 0, 1.72 -2.115 0, 1.71 -2.125 0, 1.69 -2.13 0, 1.675 -2.13 0, 1.665 -2.145 0, 1.66 -2.16 0, 1.655 -2.17 0, 1.645 -2.185 0, 1.635 -2.19 0, 1.63 -2.215 0, 1.625 -2.225 0, 1.62 -2.225 0, 1.62 -2.235 0, 1.62 -2.25 0, 1.62 -2.255 0, 1.62 -2.265 0, 1.625 -2.275 0, 1.635 -2.29 0, 1.635 -2.29 0, 1.64 -2.305 0, 1.645 -2.31 0, 1.65 -2.315 0, 1.655 -2.315 0, 1.66 -2.32 0, 1.66 -2.33 0, 1.665 -2.335 0, 1.67 -2.35 0, 1.67 -2.355 0, 1.67 -2.36 0, 1.67 -2.36 0, 1.67 -2.365 0, 1.67 -2.36 0, 1.67 -2.36 0, 1.68 -2.37 0, 1.68 -2.36 0, 1.68 -2.36 0, 1.675 -2.355 0, 1.68 -2.345 0, 1.68 -2.35 0, 1.68 -2.355 0, 1.68 -2.345 0, 1.685 -2.35 0, 1.695 -2.345 0, 1.695 -2.345 0, 1.7 -2.36 0, 1.705 -2.36 0, 1.705 -2.36 0, 1.71 -2.36 0, 1.71 -2.36 0, 1.71 -2.36 0, 1.71 -2.36 0, 1.71 -2.365 0, 1.705 -2.34 0, 1.705 -2.33 0, 1.705 -2.32 0, 1.705 -2.32 0, 1.71 -2.31 0, 1.715 -2.31 0, 1.72 -2.305 0, 1.725 -2.285 0, 1.735 -2.27 0, 1.735 -2.25 0, 1.74 -2.235 0, 1.75 -2.215 0, 1.74 -2.195 0, 1.74 -2.195 0, 1.74 -2.17 0, 1.74 -2.155 0, 1.74 -2.17 0, 1.74 -2.18 0, 1.74 -2.175 0, 1.73 -2.195 0, 1.72 -2.21 0, 1.7 -2.29 0, ; color: #E20049"></a-entity>
	</a-scene>
	<a-entity position="0 -1 0">
  	<a-camera></a-camera>
	</a-entity>
	<button type="button" onclick="test()">Howdy</button>
	<button type="button" onclick="createBox()">Create a box</button>
	<button type="button" onclick="goToAr2()">Ar2</button>
</body>
</html>